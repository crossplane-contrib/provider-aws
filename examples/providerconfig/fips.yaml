---
# AWS credentials secret
apiVersion: v1
kind: Secret
metadata:
  name: example-creds
  namespace: crossplane-system
type: Opaque
data:
  credentials: <REPLACEME>
---
# AWS provider that references the secrete credentials
apiVersion: aws.crossplane.io/v1beta1
kind: ProviderConfig
metadata:
  name: example
spec:
  endpoint:
    # An endpoint configuration which uses FIPS endpoints in us-east-1 where available
    url:
      type: Service
      service:
        - id: apigateway
          url: "https://apigateway-fips.us-east-1.amazonaws.com"
        - id: cloudfront
          url: "https://cloudfront-fips.amazonaws.com" # Global
        - id: cloudwatch
          url: "monitoring-fips.us-east-1.amazonaws.com"
        - id: ec2
          url: "https://ec2-fips.us-east-1.amazonaws.com"
        - id: eks
          url: "https://fips.eks.us-east-1.amazonaws.com"
        - id: elasticache
          url: "https://elasticache-fips.us-east-1.amazonaws.com"
        - id: elb
          url: "https://elasticloadbalancing-fips.us-east-1.amazonaws.com"
        - id: es
          url: "https://es-fips.us-east-1.amazonaws.com"
        - id: firehose
          url: "https://firehose-fips.us-east-1.amazonaws.com"
        - id: kinesis
          url: "https://kinesis-fips.us-east-1.amazonaws.com"
        - id: kms
          url: "https://kms-fips.us-east-1.amazonaws.com"
        - id: lambda
          url: "https://lambda-fips.us-east-1.amazonaws.com"
        - id: sns
          url: "https://sns-fips.us-east-1.amazonaws.com"
        - id: sqs
          url: "https://sqs-fips.us-east-1.amazonaws.com"
        - id: waf
          url: "https://waf-fips.amazonaws.com" # UI uses a global WAF.
  credentials:
    source: Secret
    secretRef:
      namespace: crossplane-system
      name: example-creds
      key: credentials
