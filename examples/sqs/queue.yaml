apiVersion: sqs.aws.crossplane.io/v1beta1
kind: Queue
metadata:
  name: test-queue
spec:
  forProvider:
    region: us-east-1
    delaySeconds: 4
    policy:
      Version: '2012-10-17'
      Statement:
        - Effect: Allow
          Principal:
            AWS: arn:aws:iam::123456789012:role/MyRole
          Action:
            - sqs:CreateQueue
            - sqs:SendMessage
          Resource: "*"
    redrivePolicy:
      deadLetterTargetArnRef:
        name: test-queue2
      maxReceiveCount: 1
  providerConfigRef:
    name: example
---
apiVersion: sqs.aws.crossplane.io/v1beta1
kind: Queue
metadata:
  name: test-queue2
spec:
  forProvider:
    region: us-east-1
    delaySeconds: 4
  providerConfigRef:
    name: example