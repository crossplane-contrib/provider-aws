apiVersion: s3.aws.crossplane.io/v1alpha1
kind: BucketPolicy
metadata:
  name: bucketpolicy-public
spec:
  forProvider:
    region: us-west-1
    bucketNameRef:
      name: test-bucket-rh-krish
    statement:
      - action:
          - s3:ListBucket
          - s3:GetBucketLocation
          - s3:ListBucketMultipartUploads
          - s3:PutBucketCORS
        effect: Allow
        principal:
          aws:
            - IAMUserArnSelector:
                example: "true"
        resource:
          - "arn:aws:s3:::test-bucket-rh-krish"
        condition:
          IpAddress:
            key: "aws:SourceIp"
            stringValue: "192.0.2.0/24"
          NotIpAddress:
            key: "aws:SourceIp"
            stringValue: "192.0.2.188/32"
    version: '2012-10-17'
  providerConfigRef:
    name: example
